!function(){"use strict";function t(){var t,r={baseUri:"https://api.forecast.io/forecast/",baseExclude:"exclude=alerts,flags,hourly,minutely"},e="us",n="en";this.setApiKey=function(r){return t=r,this},this.setUnits=function(t){return e=t,this},this.setLanguage=function(t){return n=t,this},this.$get=["$http","$q",function(c,i){function u(t,r){return s(t,r).current()}function o(t,r){return s(t,r).forecast()}function s(t,r){return{current:function(){var e="&"+f("daily");return a(t,r,e)},forecast:function(){var e="&"+f("currently");return a(t,r,e)}}}function a(u,o,s){var a=[r.baseUri,t,"/",u,",",o,"?units=",e,"&lang=",n,s,"&callback=JSON_CALLBACK"].join("");return c.jsonp(a).then(function(t){return 200===parseInt(t.status)?t.data:i.reject(t)}).catch(function(t,r,e,n){return i.reject(r)})}function f(t){return r.baseExclude+","+t}var l={getCurrent:u,getForecast:o};return t||console.warn("No forecast.io API key set."),l}]}function r(t){return{restrict:"E",scope:{icon:"@"},template:'<i class="wi wi-forecast-io-{{ icon }}"></i>'}}angular.module("forecast-io",[]).provider("forecastIO",t).directive("forecastIoIcon",["forecastIO",r])}();