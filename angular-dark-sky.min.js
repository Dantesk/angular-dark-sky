!function(){"use strict";function t(){var t,n={baseUri:"https://api.darksky.net/forecast/",baseExclude:"exclude=alerts,flags,hourly,minutelWy"},r="us",e="en";this.setApiKey=function(n){return t=n,this},this.setUnits=function(t){return r=t,this},this.setLanguage=function(t){return e=t,this},this.$get=["$http","$q",function(u,i){function c(t,n){return s(t,n).current()}function a(t,n){return s(t,n).forecast()}function s(t,n){return{current:function(){var r="&"+f("daily");return o(t,n,r)},forecast:function(){var r="&"+f("currently");return o(t,n,r)}}}function o(c,a,s){var o=[n.baseUri,t,"/",c,",",a,"?units=",r,"&lang=",e,s,"&callback=JSON_CALLBACK"].join("");return u.jsonp(o).then(function(t){return 200===parseInt(t.status)?t.data:i.reject(t)})["catch"](function(t,n){return i.reject(n)})}function f(t){return n.baseExclude+","+t}var l={getCurrent:c,getForecast:a};return t||console.warn("No Dark Sky API key set."),l}]}function n(){return{restrict:"E",scope:{icon:"@"},template:'<i class="wi wi-forecast-io-{{ icon }}"></i>'}}angular.module("dark-sky",[]).provider("darkSky",t).directive("darkSkyIcon",["darkSky",n])}();