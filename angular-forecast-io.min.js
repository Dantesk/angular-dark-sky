/**
 * angular-forecast-io
 *
 * A simple & configurable provider for forecast.io including icon directive using weather-icons 
 *
 * @link https://github.com/deanbot/angular-forecast-io
 * @see {@link https://developer.forecast.io/}
 * @see {@link https://developer.forecast.io/docs/v2|Docs}
 * @see {@link http://erikflowers.github.io/weather-icons|weather-icons}
 * @author Dean Verleger <deanverleger@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(){"use strict";function t(){var t,r={baseUri:"https://api.forecast.io/forecast/",baseExclude:"exclude=alerts,flags,hourly,minutely"},e="us",n="en";this.setApiKey=function(r){return t=r,this},this.setUnits=function(t){return e=t,this},this.setLanguage=function(t){return n=t,this},this.$get=["$http","$q",function(c,i){function u(t,r){return s(t,r).current()}function o(t,r){return s(t,r).forecast()}function s(t,r){return{current:function(){var e="&"+f("daily");return a(t,r,e)},forecast:function(){var e="&"+f("currently");return a(t,r,e)}}}function a(u,o,s){var a=""+r.baseUri+t+"/"+u+","+o+"?units="+e+"&lang="+n+s+"&callback=JSON_CALLBACK";return c.jsonp(a).then(function(t){return 200===parseInt(t.status)?t.data:i.reject(t)}).catch(function(t,r){return i.reject(r)})}function f(t){return r.baseExclude+","+t}var l={getCurrent:u,getForecast:o};return t||console.warn("No forecast.io API key set."),l}]}function r(){return{restrict:"E",scope:{icon:"@"},template:'<i class="wi wi-forecast-io-{{ icon }}"></i>'}}angular.module("forecast-io",[]).provider("forecastIO",t).directive("forecastIoIcon",["forecastIO",r])}();