!function(){"use strict";function a(){var a,b={baseUri:"https://api.forecast.io/forecast/",baseExclude:"exclude=alerts,flags,hourly,minutely"},c="us",d="en";this.setApiKey=function(b){return a=b,this},this.setUnits=function(a){return c=a,this},this.setLanguage=function(a){return d=a,this},this.$get=["$http","$q",function(e,f){function h(a,b){return j(a,b).current()}function i(a,b){return j(a,b).forecast()}function j(a,b){return{current:function(){var c="&"+l("daily");return k(a,b,c)},forecast:function(){var c="&"+l("currently");return k(a,b,c)}}}function k(g,h,i){var j=[b.baseUri,a,"/",g,",",h,"?units=",c,"&lang=",d,i,"&callback=JSON_CALLBACK"].join("");return e.jsonp(j).then(function(a){return 200===parseInt(a.status)?a.data:f.reject(a)})["catch"](function(a,b,c,d){return f.reject(b)})}function l(a){return b.baseExclude+","+a}var g={getCurrent:h,getForecast:i};return a||console.warn("No forecast.io API key set."),g}]}function b(a){return{restrict:"E",scope:{icon:"@"},template:'<i class="wi wi-forecast-io-{{ icon }}"></i>'}}angular.module("forecast-io",[]).provider("forecastIO",a).directive("forecastIoIcon",["forecastIO",b])}();